ç§»åŠ¨åº”ç”¨å¼€å‘2018
===============
### ç»„å‘˜ï¼šèµµæ±Ÿå®(16301056) é™ˆå»ºç§‹(16301060) å¼ å³°ç®(16301067) å¼ è¢å³°(16301070)
#### è¯¥éƒ¨åˆ†ç»„å‘˜:èµµæ±Ÿå®,é™ˆå»ºç§‹
# åº”ç”¨åç§°ï¼šGymParkApp
### Email: Madridchiu@gmail.com or 16301056@bjtu.edu.cn
## Assignment 1  
![UI Dashboard](./GymParkAppImages/dashboard.png)  
è¿™æ˜¯APPçš„UI Dashboard
è¿™ä¸ªä¸»ç•Œé¢é‡‡ç”¨çš„æ˜¯LinearLayout
ä¸€ä¸ªç»„ä»¶åˆ†åˆ«ä¸ºä¸€ä¸ªImageViewå’Œä¸‰ä¸ªButton
ä»–ä»¬çš„Layout_weightéƒ½è®¾ç½®ä¸º1,æ‰€ä»¥æ¯”ä¾‹éƒ½æ˜¯ä¸€æ ·å¤§çš„   
![Navigation Bar](./GymParkAppImages/navigation_bar.png)  
è¿™æ˜¯APPçš„Navigation Bar
å› ä¸ºåˆšå¼€å§‹çš„æ—¶å€™æˆ‘ä¸äº†è§£NavigationBar,æ‰€ä»¥è¿™æ˜¯åé¢åŠ çš„
é—®é¢˜å°±åœ¨äºè¿™ä¸ªæ—¶å€™æˆ‘å·²ç»æŠŠå‰é¢çš„ä¸»ç•Œé¢å†™å¥½äº†,å¦‚æœæˆ‘æƒ³è¦æŠŠä¸»ç•Œé¢åŠ å…¥NavigationBarçš„è¯æœ‰ä¸¤ä¸ªé—®é¢˜
ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯æˆ‘åœ¨ä¸»ç•Œé¢æ²¡æœ‰ä½¿ç”¨fragmentation,å¦‚æœæˆ‘ç‚¹å‡»navigation_barä¸­çš„é€‰é¡¹çš„è¯åˆ‡æ¢çš„æ•ˆæœå°±å¾ˆä¸å¥½
ç¬¬äºŒä¸ªé—®é¢˜å°±æ˜¯å¾€å†™å¥½activityåŠ navigation_baræˆ‘æƒ³åˆ°çš„åªæœ‰æŠŠactivityåµŒå…¥ä¸€ä¸ªæ–°çš„drawer_layout,å¯é‚£æ ·æœªå…æœ‰ç‚¹éº»çƒ¦
æ‰€ä»¥æˆ‘å¹²è„†åœ¨ä¸“é—¨å†™äº†ä¸€ä¸ªæµ‹è¯•navigation_barçš„é¡µé¢,è™½ç„¶ä¸å®ç”¨,ä½†æ˜¯ä¹Ÿç®—æ˜¯ä¸€å®šç¨‹åº¦ä¸Šå®Œæˆäº†ä»»åŠ¡å§
è¿™ä¸ªä¸»è¦å­¦ä¹ çš„æ˜¯Androidè‡ªå·±æä¾›çš„Navigation Draw Activity,å•å‡»navigation barä¸­çš„sign outå°±å¯ä»¥ç™»å‡ºè´¦æˆ·,è¿”å›ç™»å½•ç•Œé¢  

## Assignment 2
![UI_Login](./GymParkAppImages/login_view.png)  

è¿™æ˜¯ä¸»ç¨‹åºçš„ç™»å½•ç•Œé¢
å…³äºç»ˆç«¯æœåŠ¡å™¨,æˆ‘é‡‡ç”¨çš„æ˜¯[Bmobåç«¯äº‘](bmob.cn)è¿›è¡ŒéªŒè¯
å…³äºBmobä½¿ç”¨è¿‡ç¨‹ä¸­è®°å¾—æ˜¯ç¢°åˆ°äº†ä¸€ä¸ªå¼‚å¸¸,å»StackOverflowæŸ¥çœ‹ä¸€äº›ç­”æ¡ˆåå‘ç°è¦åœ¨manifestä¸Šä¸€è¡Œandroid:usesCleartextTraffic="true"æ‰èƒ½è§£å†³
Bmobçš„ä½¿ç”¨ç®—æ˜¯æ¯”è¾ƒç®€å•çš„,é¦–å…ˆå°±æ˜¯å»ºç«‹ä¸€ä¸ªç±»ç»§æ‰¿BmobObjectå¯¹åº”çš„æ˜¯åœ¨Bmobä¸­å»ºå¥½çš„æ•°æ®åº“,ç„¶åå°±å¯ä»¥åœ¨Activityä½¿ç”¨Bmobçš„æŸ¥è¯¢æ’å…¥ç­‰åŠŸèƒ½äº†
å½“ç”¨æˆ·ç™»å½•æ—¶æˆ‘ä»¬ä¼šæŠŠç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç å‘ç»™Bmob,è®©Bmobä»æ•°æ®åº“ä¸­æ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªç”¨æˆ·,æœ‰åˆ™é‡æ–°ç™»å½•,æ²¡æœ‰åˆ™æç¤ºç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯
ä¸€å¼€å§‹æˆ‘åœ¨è°·æ­Œä¸Šçœ‹åˆ°çš„ä¹Ÿæ˜¯æ™®é€šçš„PHP+mysqlæ¥è§£å†³çš„,ä½†æ˜¯æˆ‘è‡ªå·±å¯¹PHPä¸€æ— æ‰€çŸ¥,ç»è¿‡å°è¯•åå‘ç°ç¡®å®å¤ªè€—æ—¶äº†,æ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨äº†ä½¿ç”¨åç«¯äº‘çš„æ–¹æ¡ˆ  
![UI_Register](./GymParkAppImages/register_view.png)  

è¿™æ˜¯æ³¨å†Œçš„è¡¨æ ¼ç•Œé¢
æˆ‘ä»¬ä¼šå¯¹ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åæ˜¯å¦ä¸ºç©º,Emailæ ¼å¼æ˜¯å¦æ­£ç¡®,ä¸¤æ¬¡è¾“å…¥çš„å¯†ç æ˜¯å¦ç›¸åŒè¿›è¡Œæ£€æŸ¥
éªŒè¯é‚®ç®±æ ¼å¼çš„ä»£ç å¦‚ä¸‹:
```Java
private boolean isValidEmail(CharSequence target) {
   return !TextUtils.isEmpty(target) && android.util.Patterns.EMAIL_ADDRESS.matcher(target).matches();
}
```
åœ¨ç¡®è®¤ç”¨æˆ·è¾“å…¥çš„è¡¨æ ¼å„é¡¹æ ¼å¼æ­£ç¡®å,åŒæ ·çš„,æˆ‘ä»¬æŠŠæ•°æ®å‘ç»™Bmob,ç„¶åå­˜è¿›æ•°æ®åº“.  
![UI_Trainer](./GymParkAppImages/trainer_list.png)  
æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº†CardView Layout,å¿˜è®°äº†ä½¿ç”¨RecyclerViewä¸è¿‡æˆ‘ä»¬åœ¨NewsDisplayä¸­é‡‡ç”¨äº†RecyclerView
è™½ç„¶æœ‰ç‚¹è¯¡å¼‚,æ±‚ç»™åˆ†

## Assignment 3  
ä¸‹é¢æ˜¯è§†é¢‘æ’­æ”¾åˆ—è¡¨å’Œè§†é¢‘å®é™…æ’­æ”¾:  

![Video_List_View](./GymParkAppImages/video_list_view.png)  
![Video_View](./GymParkAppImages/video_view.png)  
å¯¹äºè§†é¢‘æ’­æ”¾åŠŸèƒ½,VideoViewå¥½åƒæ”¯æŒRTSPæµçš„æ’­æ”¾,ä¸æ”¯æŒæ™®é€šæˆ‘ä»¬å¹³æ—¶çœ‹åˆ°çš„http,è¿™å°±å¾ˆæ‡µé€¼äº†
è°·æ­Œåå‘ç°çš„RTSPæµç»“æœåªæœ‰youtubeçš„,æ²¡æœ‰å…³äºä¼˜é…·ä¹‹ç±»çš„,è„‘å£³ç—›
ç„¶åæˆ‘å‘ç°è™æ‰‘ä¸Šä¸€äº›è§†é¢‘æ˜¯å¯ä»¥ç”¨VideoViewæ’­æ”¾çš„,ç„¶åæˆ‘å¾ˆå¼€å¿ƒçš„å°±ç”¨è™æ‰‘çš„è§†é¢‘é“¾æ¥æ¥æ’­æ”¾è§†é¢‘äº†
ä»£ç å¦‚ä¸‹:  
```java
public class DumbbellVideo extends AppCompatActivity {
    VideoView videoView;
    String url;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_dumbbell_video);
        url=getString(R.string.dumbbells);
        Uri uri=Uri.parse(url);
        videoView=findViewById(R.id.dumbbell_video);
        MediaController mc=new MediaController(this);
        mc.setAnchorView(videoView);
        videoView.setMediaController(mc);
        videoView.setVideoURI(uri);
        videoView.start();
    }
}
```
è¯´èµ·æ¥ä¹Ÿæ˜¯å¥½ç¬‘,æˆ‘ç«Ÿç„¶ç”¨äº†ä¸åŒçš„Activityæ¥å±•ç¤ºä¸åŒçš„è§†é¢‘,å…¶å®åªè¦åœ¨ç‚¹å‡»ä¸åŒè§†é¢‘å›¾ç‰‡æ—¶æ›´æ”¹VideoViewä¸­é“¾æ¥å°±è¡Œäº†
ç®—äº†,å¥½æ­¹ä¹Ÿå«å®ç°äº†

å…³äºç»™Traineræ‰“ç”µè¯,å½“ç„¶è¦å…ˆå¾€Manifestä¸ŠåŠ call_phoneå…è®¸
è¯´èµ·permissionçš„è¯ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºåªè¦å¾€Manifestä¸ŠåŠ è¯·æ±‚å°±ä¼šæœ‰æˆ–è€…æ˜¯ä¼šè‡ªåŠ¨ç”³è¯·è¯·æ±‚
ç»“æœæ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„permissionä½ è¿˜å¾—è‡ªå·±å´ç¡®è®¤æƒé™å¹¶ç”³è¯·
[å®‰å“å…³äºpermissionçš„overview](https://developer.android.com/guide/topics/permissions/overview)  
è¯¥APPç”¨åˆ°çš„ä¸€äº›æƒé™ç”³è¯·çš„ä»£ç å¦‚ä¸‹:  
```java
        if(ContextCompat.checkSelfPermission(MainActivity.this,Manifest.permission.WRITE_EXTERNAL_STORAGE)!=
                PackageManager.PERMISSION_GRANTED){
            ActivityCompat.requestPermissions(MainActivity.this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);
        }
        if(ContextCompat.checkSelfPermission(MainActivity.this,Manifest.permission.READ_PHONE_STATE)!=
                PackageManager.PERMISSION_GRANTED)
            ActivityCompat.requestPermissions(
                    MainActivity.this,new String[]{Manifest.permission.READ_PHONE_STATE},2);
        if(ContextCompat.checkSelfPermission(MainActivity.this,Manifest.permission.ACCESS_NETWORK_STATE)!=
                PackageManager.PERMISSION_GRANTED)
            ActivityCompat.requestPermissions(MainActivity.this,new String[]
                    {Manifest.permission.ACCESS_NETWORK_STATE},3);
```
ä¸‹é¢æ˜¯CALL PHONEç•Œé¢:  
![call_phone](./GymParkAppImages/call_view.png)  
  
## Assignment 4
æŠŠtrainer informationä»¥åŠarticlesç¦»çº¿å‚¨å­˜ä½¿ç”¨çš„æ˜¯SQLiteæ•°æ®åº“
ä»£ç è¿‡ç¨‹å‚è€ƒçš„ä¹Ÿæ˜¯å®‰å“å®˜æ–¹ç»™çš„æ•™ç¨‹
åˆ›å»ºentry(ä¸çŸ¥é“æ€ä¹ˆè¡¨è¾¾,å¤§æ¦‚å°±æ˜¯ä¸€ä¸ªç±»ç”¨äºå­˜å‚¨è¡¨çš„å„é¡¹æ•°æ®,ç±»ä¼¼äºmetadataä¹‹ç±»çš„),åˆ›å»ºDBHelper,ç„¶åå®é™…åœ¨Activityè°ƒç”¨
ä¸‹é¢æ˜¯åˆå§‹åŒ–ä»¥åŠæ’å…¥çš„ä¸€äº›ä»£ç :  
```java
//        initNews();
        SQLiteDatabase db;
        DbHelper dbHelper=new DbHelper(this);
//        db=dbHelper.getWritableDatabase();
//        dbHelper.onUpgrade(db,1,1);
//        for(News news:mList)
//          dbHelper.insertItem(db,news.title,news.imageID);
        
        db=dbHelper.getReadableDatabase();
        Cursor cursor=db.query(NewsTable.NewsEntry.TABLE_NAME,projection,null,null,null,null,null);
        while(cursor.moveToNext()){
            News news;
            String title=cursor.getString(cursor.getColumnIndex(NewsTable.NewsEntry.COLUMN_NAME_TITLE));
            int imageID=cursor.getInt(cursor.getColumnIndex(NewsTable.NewsEntry.COLUMN_NAME_IMAGE));
            news=new News(title,imageID);
            mList.add(news);
        }
```
ä¸‹é¢æ˜¯æ–‡ç« å±•ç¤º,é‡‡ç”¨çš„æ˜¯recyclerview+cardview  

![News_Display](./GymParkAppImages/newsdisplay.png)  

## Assignment 5
ç»ˆäºä¹Ÿæ¥åˆ°äº†æœ€åä¸€ä¸ªAssignment,è¿™æ¬¡çš„Assignmentéš¾åº¦ä¹Ÿä¸å¤§,å°±æ˜¯æœ‰äº›éº»çƒ¦.  
åˆšå¼€å§‹ä¹Ÿæ˜¯æ‰“ç®—å‘å¾®ä¿¡é‚£è¾¹ç”³è¯·çš„,ä½†æ˜¯ç”³è¯·ç­‰äº†ä¸‰å¤©ä¸€ç‚¹å›å¤ä¹Ÿæ²¡æœ‰,æƒ³æƒ³ä¹Ÿä¸èƒ½åä»¥å¾…æ¯™,å†³å®šæ‰¾åˆ«çš„é€”å¾„.
è°·æ­Œäº†ä¸€ä¸‹,å‘ç°ä¸€ä¸ªå«åšfirebaseçš„ä¸œè¥¿æ„å¤–çš„å¥½ç”¨,åªéœ€è¦ç”³è¯·åº”ç”¨å…³è”,ç„¶åå°±å¯ä»¥è½»æ¾çš„åº”ç”¨æ¨¡æ¿æ¥å®Œæˆä¸€ç³»åˆ—çš„æ“ä½œäº†,
ç”šè‡³è¿gradleéƒ½å¯ä»¥ä¸ç”¨è‡ªå·±å»é…ç½®,åªéœ€è¦æ‰“å¼€android studioè‡ªå¸¦çš„firebaseç„¶åè¿›å»è®©å®ƒè‡ªå·±é…ç½®å°±å¥½äº†.  
ä¸‹é¢æ˜¯ä¸€äº›å®Œæˆåçš„å›¾ç‰‡:  
![showNewLogin](./GymParkAppImages/loginWithGoogle.png)  

![use google account](./GymParkAppImages/chooseAccount.png)  

![firebase console](./GymParkAppImages/firebaseAuthentication.png)  

<font color=red>èœé¸¡å†™ä»£ç ä¸å®¹æ˜“,æ±‚è€å¸ˆå¤šç»™ç‚¹åˆ†å§,å˜¤å˜¤å˜¤ğŸ˜­ğŸ˜­ğŸ˜­</font>
<font color=red>èœé¸¡å†™ä»£ç ä¸å®¹æ˜“,æ±‚è€å¸ˆå¤šç»™ç‚¹åˆ†å§,å˜¤å˜¤å˜¤ğŸ˜­ğŸ˜­ğŸ˜­</font>


